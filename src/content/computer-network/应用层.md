### 应用层
#### 网络应用程序体系结构
- 应用程序体系结构(application architecture)
    1. 客户-服务器体系结构(client-server architecture)
        1. 服务器
            > 总是开机,接收来自客户机的请求,并响应返回请求的资源
            > 具有固定的、周知的IP地址
        2. 客户机
            > 通过服务器的IP地址发送分组来获取资源
            > 客户机与客户机不相互联系

        - 在C-S中,常会出现一台服务器跟不上客户请求的情况
                > 配备大量主机用来创建强大的虚拟服务器 ---- 数据中心(data center)

    2. P2P体系结构 (peer to peer architecture)
        > 对等方: 应用程序在间断连接的主机对之间直接通信
        - 对等方通信不必通过专用服务,被称为对等方到对等方的.
        - 有哪些应用?
            - 文件共享
            - 对等方协助下载加速器
            - IP电话
            - 视频会议

        - 特性
            1. 自拓展性(self-scalability)
            2. 不需要庞大的服务器和带宽
            3. 高度非集中式结构

#### 进程通信
- 进程
    > 运行在端系统的 一个 程序
    > 多个进程运行在相同端系统进行通信,使用进程间通信机制

- 进程间通信的规则
    > 由操作系统而定
    > 在计算机网络中,我们关注不同 端口 系统上的进程间通信
    
- 不同端系统的进程通信
    > 通过计算网络交换报文(message) 相互通信.
    1. 发送进程生成向网络发送报文
    2. 接收进程接收报文并可能通过回送报文响应

    
##### 客户和服务器进程
- 在web应用程序中,浏览器进程(客户)与web服务器(服务器)进程交换报文
- 在P2P中,对等方进程(服务器,上载方)传输到另一个对等放进程(客户,下载方) 

- 如何定义客户机和服务器
    1. 在一对进程之间的通信会话场景中
    2. 发起通信(即在该会话开始时发起与其他进程的联系)的进程标识为 客户机 // 通信发起方
    3. 在会话开始时等待联系的进程标识为 服务器 // 通信接收方

##### 进程与计算机网络之间的接口
> 套接字: 应用程序与网络之间的应用程序编程接口 (Application Programming Interface,API)
- 进程通过套接字(socket)向网络发送和接收报文
- 例子:
    1. 首先,进程比作主卧室和副卧室,套接字比作主卧室的门和副卧室的门,
    2. 我从主卧拿去一件物品,打开主卧的门,通过主卧到副卧的路径 
    3. 打开副卧的门,将物品放到指定位置

- 所拥有的权限
    1. 选择运输层协议
    2. 设定运输层参数

##### 进程寻址 // 分组的目的地
- 目的地包含的信息
    1. 主机的地址 // IP地址
    2. 目标主机接收进程的标识符 // 端口号
        - 常用端口号
            1. web服务器 端口80
            2. 邮件服务 端口25
            3. ....

#### 可供应用程序使用的运输服务
- 对应用程序服务要求分类
    1. 可靠数据传输
        > 协议提供了进程发送的数据正确,完全交付到接收进程
    2. 容忍数据传输丢失
        > 协议提供了进程发送到接收进程产生数据丢失而可接受
        - 多媒体应用,例:音视频
    3. 吞吐量
        - 以特定速率提供确保的可用吞吐量
        > 可用吞吐量: 发送进程能够向接收进程交付比特的速率
        - 吞吐量敏感应用
            > 具有吞吐量要求的应用程序
            - 例:
                1. 多媒体引用
        - 弹性应用
            > 能够控制吞吐量大小的应用.
            - 例:
                1. 电子应用
                2. 文件传输
                3. web传送
    4. 定时
        > 严格要求数据交付的时间
        - 实时应用:
            1. 游戏卡顿
            2. IP电话停顿

        - 非实时应用:
            > 没有严格时延要求
    5. 安全性
        > 提供数据的加解密


#### 计算机网络通用运输服务 --- 运输层协议
- 应用程序的服务要求
    1. 文件传输
        - 不可丢失数据
        - 弹性
        - 时间不敏感
    2. 电子邮件
        - 不可丢失数据
        - 弹性
        - 时间不敏感
    3. web文档
        - 不可丢失数据
        - 弹性
        - 时间不敏感
    4. 因特网电话/视频会议
        - 容忍丢失
        - 音频 (几kps 1Mbps)
        - 视频 (10kps 5Mbps)
        - 100ms
    5. 流式存储音频/视频
        - 容忍丢失
        - 音频 (几kps 1Mbps)
        - 视频 (10kps 5Mbps)
        - 几秒
    6. 交互式游戏
        - 容忍丢失
        - 几kps 10kbps
        - 100ms
    7. 智能手机讯息
        - 不可丢失数据
        - 弹性
        - 是和不是

- TCP
    1. 面向连接服务
        > 交换报文前,交换运输层控制信息
    2. 可靠数据服务
- UDP